<!DOCTYPE html>
<html lang="ru">

<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mobile-detect/1.4.4/mobile-detect.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <link  href="{% static 'lightbox/lightbox.css' %}" rel="stylesheet">

    {% block title %}
    <title>Jewelry by Svetlana Remizontseva</title>
    {% endblock %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body>
    {% load static %}
    <div class="sidebar" data-aos="fade-right" data-aos-duration="1000">
        <div class="logo-details">
            <div class="logo_name">
                <img src="media/Logo.jpg" style="width: 200px; height: 200px; margin-top: 70px;">
            </div>
            <i class='bx bxs-chevron-left-circle' id="btn"></i>
        </div>
        <ul class="nav-list">
            <li>
                <a class="active" href="#section_main">
                    <i class='bx bxs-home'></i>
                    <span class="links_name">Главная</span>
                </a>
                <span class="tooltip">Главная</span>
            </li>
            <li>
                <a href="#section_materials">
                    <i class='bx bxs-diamond'></i>
                    <span class="links_name">Материалы</span>
                </a>
                <span class="tooltip">Материалы</span>
            </li>
            <li>
                <a href="#section_work">
                    <i class='bx bx-images'></i>
                    <span class="links_name">Примеры работ</span>
                </a>
                <span class="tooltip">Примеры работ</span>
            </li>
            <li>
                <a href="#section_contacts">
                    <i class='bx bxs-phone'></i>
                    <span class="links_name">Контакты</span>
                </a>
                <span class="tooltip">Контакты</span>
            </li>
            <li>
                <a href="#section_delivery">
                    <i class='bx bxs-truck'></i>
                    <span class="links_name">Доставка и оплата</span>
                </a>
                <span class="tooltip">Доставка и оплата</span>
            </li>
        </ul>
        <ul class="social-list">
            <li>
                <a href="{{social_link_instagram}}" target="_blank">
                    <i class='bx bxl-instagram-alt'></i>
                </a>
            </li>
            <li>
                <a href="{{social_link_whatsapp}}" target="_blank">
                    <i class='bx bxl-whatsapp'></i>
                </a>
            </li>
            <li>
                <a href="{{social_link_telegram}}" target="_blank">
                    <i class='bx bxl-telegram'></i>
                </a>
            </li>
            <li>
                <a href="{{social_link_vk}}" target="_blank">
                    <i class='bx bxl-vk'></i>
                </a>
            </li>
        </ul>

    </div>

    <main class="home-section">

        <section class="site_section_top" id="section_main"
            style="background-image: url('media/{{photo_and_greetings.main_photo}}')">
            <div class="container-fluid">
                <div class="row justify-content-center align-items-center" id="home">
                    <div class="col-md-7 text-center">
                        <h1 class="text-white heading text-uppercase" data-aos="fade-up" data-aos-delay="500">Привет
                        </h1>
                        <p class="lead text-white mb-5" data-aos="fade-up" data-aos-delay="500">
                            {{photo_and_greetings.greetings}}
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section id="section_materials">
            <div class="container-fluid">
                <h3>Section materials</h3>
            </div>
        </section>

        <section class="photos" id="section_work">
            <div class="container-fluid" id="photo_container">
                <div class="col-12" id="images_columns">
                    <div class="row align-items-stretch" id="pht">
                        {% for category in category_list %}
                        <h1 class="jewel-category text-uppercase" data-aos="flip-down" data-aos-delay="300">{{category}}</h1>
                        {% for image in images_list %}
                        {% if category == image.category %}
                        <div class="col-4 col-md-4 col-lg-2" id="images" data-aos="fade-up"
                            data-aos-delay={{image.data_aos_delay}}>
                            <a href="media/{{ image.name }}" class="d-block photo-item" data-lightbox="{{ category }}" data-title="{{ image.decoration_name }}">
                                <img src="media/{{ image.name }}" alt="Image" class="img-fluid">
                            </a>
                        </div>
                        {% endif %}
                        {% endfor %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </section>

        <section id="section_contacts">
            <div class="container-fluid">
                <h3 style="color: white; text-align: center;">Свяжитесь со мной</h3>
                <div class="form" style="color: white;">
                    <form action="" method="post">
                    {% csrf_token %}
                    {{ form.name.label }}
                    {{ form.name }}
                    {{ form.phone_number.label}}
                    {{ form.phone_number }}
                    {{ form.message.label }}
                    {{ form.message }}<br>
                    <input type="submit" value="Отправить" />
                    </form>
                </div>
            </div>
        </section>

        <section id="section_delivery" style="margin-bottom: 2000px;">
            <div class="container-fluid">
                <h3>Section delivery</h3>
            </div>
        </section>

    </main>

    <script>
        let sidebar = document.querySelector(".sidebar");
        let closeBtn = document.querySelector("#btn");

        closeBtn.addEventListener("click", () => {
            sidebar.classList.toggle("close");
            menuBtnChange();//calling the function(optional)
        });
        function menuBtnChange() {
            if (sidebar.classList.contains("close")) {
                closeBtn.classList.replace("bxs-chevron-left-circle", "bxs-chevron-right-circle");//replacing the iocns class
            } else {
                closeBtn.classList.replace("bxs-chevron-right-circle", "bxs-chevron-left-circle");//replacing the iocns class
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"
        integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js"
        integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
    <script src="{% static 'lightbox/lightbox.js' %}"></script>
    <script>
        lightbox.option({
          'resizeDuration': 100,
          'wrapAround': true,
          'alwaysShowNavOnTouchDevices': true,
          'fadeDuration': 300,
          'imageFadeDuration': 300,
        })
    </script>
    <script>
        let section = document.querySelectorAll('section');
        let sidebarLinks = document.querySelectorAll('.sidebar li a');

        window.onscroll = () => {

            section.forEach(sec => {

                let top = window.scrollY;
                let offset = sec.offsetTop -= 100;
                let height = sec.offsetHeight;
                let id = sec.getAttribute('id');

                if (top >= offset && top < offset + height) {
                    sidebarLinks.forEach(links => {
                        links.classList.remove('active');
                        document.querySelector('.sidebar li a[href*=' + id + ']').classList.add('active');
                    });
                };
            });
        };
    </script>
    <script>
        let detect = new MobileDetect(window.navigator.userAgent);
        let menuButton = document.querySelector("#btn");

        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)) {
            menuButton.classList.replace("bxs-chevron-left-circle", "bxs-chevron-right-circle");
            sidebar.classList.toggle("close");
        };
    </script>
</body>

</html>